<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta charset="UTF-8" />
    <title>我的个人导航</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <header>
      <div class="topNavBar clearfix">
        <div class="logo">
          <img
            src="./img/logo.jpeg"
            alt=""
            title=""
            width="70px"
            height="70px"
          />
        </div>
        <div class="search">
          <form>
            <input type="text" id="shuru" />
            <input type="button" name="search" id="baidu" value="Baidu" />
            <input type="button" name="search" id="google" value="Google" />
          </form>
        </div>
      </div>
    </header>
    <main><div class="wrapper" id="keyboard"></div></main>
    <footer>
      <div class="introduce">
        <h1 id="introtittle">个人导航网站</h1>
        <span id="introtext">❤ Made by: EdenSheng</span>
      </div>
    </footer>
    <script>
      var keys = {
        0: {
          0: "1",
          1: "2",
          2: "3",
          3: "4",
          4: "5",
          5: "6",
          6: "7",
          7: "8",
          8: "9",
          9: "0",
          length: 10
        },
        1: {
          0: "q",
          1: "w",
          2: "e",
          3: "r",
          4: "t",
          5: "y",
          6: "u",
          7: "i",
          8: "o",
          9: "p",
          length: 10
        },
        2: {
          0: "a",
          1: "s",
          2: "d",
          3: "f",
          4: "g",
          5: "h",
          6: "j",
          7: "k",
          8: "l",
          length: 9
        },
        3: {
          0: "z",
          1: "x",
          2: "c",
          3: "v",
          4: "b",
          5: "n",
          6: "m",
          length: 7
        },
        length: 4
      };
      var hash = {
        q: "qq.com",
        w: "weibo.com",
        e: "ele.me",
        r: "renren.com",
        t: "tianya.com",
        y: "youtube.com",
        u: "uc.com",
        i: "iqiyi.com",
        o: "opera.com",
        p: "photoshop.com",
        m: "www.mcdonalds.com.cn"
      };
      var hashInLocalStorage = JSON.parse(
        localStorage.getItem("cangku") || "null"
      );
      if (hashInLocalStorage) {
        hash = hashInLocalStorage;
      }

      index = 0;
      while (index < keys.length) {
        div1 = document.createElement("div");
        keyboard.appendChild(div1);
        row = keys[index];
        index1 = 0;
        while (index1 < row.length) {
          kbd1 = document.createElement("kbd");
          kbd1.textContent = row[index1];
          button1 = document.createElement("button");
          button1.textContent = "Edit";
          button1.id = row[index1];
          button1.onclick = function(sgs) {
            k1 = sgs.target.id;
            k2 = prompt("请输入您要绑定的新网站URL:");
            hash[k1] = k2;
            localStorage.setItem("cangku", JSON.stringify(hash));
            console.log(hash);
          };
          kbd1.appendChild(button1);
          div1.appendChild(kbd1);
          index1++;
        }
        index++;
      }

      document.onkeypress = function(sgs) {
        key = sgs.key;
        website = hash[key];
        //location.href = "http://" + website;
        window.open("http://" + website, "_blank");
      };
    </script>
  </body>
</html>
